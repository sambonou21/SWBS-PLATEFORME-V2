# SWBS-PLATEFORME-V2 - Exemple de configuration .env
# Copiez ce fichier en .env et complétez les valeurs pour votre environnement.
# Ce fichier est adapté pour un déploiement o2switch / Passenger + MySQL.

########################################
# ENVIRONNEMENT
########################################
NODE_ENV=production

# Sur o2switch, Passenger gère le port automatiquement.
# Laisser 3000 par défaut (le process écoute dessus).
PORT=3000

########################################
# URLS DU SITE
########################################
# Domaine public officiel
BASE_URL=https://swbs.site
APP_BASE_URL=https://swbs.site

# Alias interne utilisé par le code (fallback sur APP_BASE_URL / BASE_URL)
DOMAIN=https://swbs.site

########################################
# SESSIONS
########################################
# Clé longue et secrète
SESSION_SECRET=change_this_session_secret
SESSION_NAME=swbs_sid
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_MAX_AGE_DAYS=7

########################################
# ADMIN INITIAL (BOOTSTRAP)
########################################
# Créé automatiquement par `npm run init:admin` s’il n’existe pas
ADMIN_EMAIL=admin@swbs.site
ADMIN_PASSWORD=change_me_admin_password

########################################
# BASE DE DONNÉES (MySQL)
########################################
# Dialecte (informel, uniquement pour documentation)
DB_DIALECT=mysql

# Variables spécifiques MySQL (recommandé sur o2switch)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=sc4assa9716_swbsbase
MYSQL_USER=sc4assa9716_swbsbase
MYSQL_PASSWORD=change_me_mysql_password

# Alias génériques utilisés par le code (déduits automatiquement si non définis)
DB_HOST=
DB_PORT=
DB_NAME=
DB_USER=
DB_PASS=

########################################
# UPLOADS (OBLIGATOIRE O2SWITCH)
########################################
# Chemin ABSOLU vers un dossier public et writable (doit être dans /public/uploads)
UPLOAD_DIR=/home/USER/swbs.site/public/uploads

########################################
# SMTP / EMAIL
########################################
SMTP_HOST=mail.swbs.site
SMTP_PORT=465
# true pour activer le SSL sur le port 465
SMTP_SECURE=true
SMTP_USER=no-reply@swbs.site
SMTP_PASS=change_me_smtp_password
MAIL_FROM=SWBS <no-reply@swbs.site>

########################################
# FEDEPAY (PAIEMENT)
########################################
FEDEPAY_PUBLIC=
FEDEPAY_SECRET=
FEDEPAY_MODE=sandbox

########################################
# IA
########################################
AI_PROVIDER=
AI_API_KEY=
AI_MODEL=gpt-4o-mini
AI_INSTRUCTIONS=

########################################
# SÉCURITÉ
########################################
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
CSRF_COOKIE_NAME=swbs_csrf